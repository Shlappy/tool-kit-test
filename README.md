# Тестовое задание для Tool-Kit

## Возможности приложения
- Регистрироваться путем заполнения анкеты
- Создавать заявления для рассмотрения администратором
- Просматривать собственные заявления
- Просматривать все заявления администратором

## Инструкция

1. Клонировать репозиторий
    ```bash
    git clone https://github.com/Shlappy/tool-kit-test.git tool-kit
    ```
2. Собрать, поднять все контейнеры и запустить сервер:
    ```bash
    make build-start-prod
    ```
3. Готово, теперь можно использовать приложение. Для этого нужно перейти по адресу:
    ```bash
    http://localhost
    ```

---

Если нужно сменить порт, можно сделать это в .env файле, ключ WEB_PORT_HTTP. Тогда нужно зайти по адресу:
```bash
http://localhost:port
```
где port - указанный в .env порт.

#### Для входа за админа:
Логин - admin@test.ru<br>
Пароль - 12345678

#### Для входа за клиента:
Логин - client@test.ru<br>
Пароль - 12345678

#### Для входа за второго клиента:
Логин - client2@test.ru<br>
Пароль - 12345678

---
## Справка

#### Swagger документация по пути:
```bash
http://localhost/api/doc
```
#### Json schema по пути:
```bash
http://localhost/api/doc.json
```

#### Для остановки всех контейнеров:
```bash
make stop-prod
```

#### Для запуска без сборки ввести команду:
```bash
make start-prod
```

#### Для накатывания фикстур dev-режима:<br>! После этого все старые данные в БД будут удалены !
```bash
make fixtures-dev
```
#### Для накатывания фикстур prod-режима (по умолчанию):<br>! После этого все старые данные в БД будут удалены !
```bash
make fixtures-prod
```

#### Для запуска тестов:
```bash
#если запущен прод. режим, если нет, пропустить команду
make stop-prod

# Пропустить, если уже запущены контейнеры в dev-режиме
make build-start #или make start если запускаете не первый раз

make test
```

#### Для запуска phpstan:
```bash
#если запущен прод. режим, если нет, пропустить команду
make stop-prod

# Пропустить, если уже запущены контейнеры в dev-режиме
make build-start #или make start если запускаете не первый раз

make phpstan
```

#### Для запуска phpcs:
```bash
#если запущен прод. режим, если нет, пропустить команду
make stop-prod

# Пропустить, если уже запущены контейнеры в dev-режиме
make build-start #или make start если запускаете не первый раз

make phpcs
```
---
### Замечания:
**make phpcs** выдаст "ошибки" стандарта PSR-12, которые в версии PHP 8.4 
нет возможности исправить с помощью php-cs-fixer. Для исправления 
всех ошибок нужна версия PHP меньше 8.4